(()=>{"use strict";var t={p:"/Unsplash-Search/"};t.p;const e="K6HLHwT0DgSPJpHiuvkrh5pJG7yrcGV7KKHafIpOc-s";const n="unsplash_cache",a="unsplash_last_query";window.onload=()=>{const t=document.getElementById("images"),c=document.getElementById("search"),s=document.getElementById("search-btn"),i=document.getElementById("actions");let o=1,l=null,r=!1;function d(e){e.results&&0!==e.results.length?(t.innerHTML=e.results.map((t=>'\n        <div class="images-item" onclick="window.open(\''.concat(t.links.html,'\', \'_blank\')">\n            <img class="images-item-image" \n                 src="').concat(t.urls.small,'" \n                 alt="').concat(t.alt_description||"",'"\n                 loading="lazy"\n                 onload="this.style.opacity=1">\n            <div class="images-item-overlay">\n                <div class="images-item-title">\n                    ').concat(t.description?t.description.slice(0,60)+(t.description.length>60?"...":""):"",'\n                </div>\n                <div class="images-item-author">\u0410\u0432\u0442\u043e\u0440: ').concat(t.user.name,"</div>\n            </div>\n        </div>\n    "))).join(""),l=Math.ceil(e.total/12),i.children[1].textContent="\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ".concat(o),i.classList.add("active"),i.children[0].disabled=o<=1,i.children[2].disabled=o>=l):o>1?(o--,i.classList.remove("active"),t.innerHTML='<div class="no-results">\u0411\u043e\u043b\u044c\u0448\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u043d\u0435\u0442.</div>'):(t.innerHTML='<div class="no-results">\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e.</div>',i.classList.remove("active"))}async function m(){const s=c.value.trim();if(s)try{r=!0,t.innerHTML="",i.classList.remove("active"),l=null;const c=function(t,e){const a=JSON.parse(localStorage.getItem(n));return a&&a.query===t&&a.page===e?a.data:null}(s,o);if(c)return void d(c);const m=await async function(t){const n="https://api.unsplash.com/search/photos?page=".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,"&per_page=").concat(12,"&query=").concat(encodeURIComponent(t),"&client_id=").concat(e),a=await fetch(n,{headers:{Authorization:"Client-ID ".concat(e)}});if(!a.ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 API: ".concat(a.status));return await a.json()}(s,o);!function(t,e,c){1===e&&(localStorage.setItem(n,JSON.stringify({query:t,page:e,data:c})),localStorage.setItem(a,t))}(s,o,m),d(m)}catch(m){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438")}finally{r=!1}}s.onclick=()=>{c.value.trim()&&(localStorage.removeItem(n),localStorage.removeItem(a),o=1,m())},i.children[0].onclick=()=>{o>1&&(o--,m())},i.children[2].onclick=()=>{o<l&&(o++,m())};const u=localStorage.getItem(a);c.value=u||"\u043a\u043e\u0442",o=1,m()}})();
//# sourceMappingURL=main.1cced318.js.map